<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ürün Detayı | Pagus</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        /* Detay Sayfası Stilleri */
        :root { --color-gold: #c9a962; }
        body { font-family: 'Montserrat', sans-serif; margin: 0; color: #333; }
        a { text-decoration: none; color: inherit; }
        
        .simple-header { padding: 1.5rem; text-align: center; border-bottom: 1px solid #eee; margin-bottom: 2rem;}
        .logo { font-family: 'Playfair Display', serif; font-size: 1.8rem; font-weight: 600; }

        .detail-container { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem 4rem; display: grid; grid-template-columns: 1.5fr 1fr; gap: 4rem; }
        
        /* Sol Taraf: Galeri */
        .gallery { display: flex; flex-direction: column; gap: 1rem; }
        .main-img { width: 100%; aspect-ratio: 3/4; object-fit: cover; background: #f5f5f5; cursor: zoom-in;}
        .thumbnails { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .thumb { width: 100%; aspect-ratio: 1; object-fit: cover; cursor: pointer; opacity: 0.6; transition: 0.2s; }
        .thumb:hover, .thumb.active { opacity: 1; border: 2px solid var(--color-gold); }

        /* Sağ Taraf: Bilgi */
        .info-col { padding-top: 2rem; }
        .cat-tag { color: #888; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 2px; margin-bottom: 1rem; display: block;}
        .product-title { font-family: 'Playfair Display', serif; font-size: 2.5rem; line-height: 1.2; margin: 0 0 1.5rem; }
        .price { font-size: 1.5rem; color: var(--color-gold); font-weight: 500; margin-bottom: 2rem; display: block; }
        .desc { line-height: 1.8; color: #555; margin-bottom: 3rem; white-space: pre-wrap; }
        
        .btn-whatsapp { display: inline-block; background: #25D366; color: white; padding: 1rem 2rem; border-radius: 50px; font-weight: 600; letter-spacing: 1px; transition: 0.3s; }
        .btn-whatsapp:hover { background: #1ebc57; box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3); }

        @media (max-width: 768px) { .detail-container { grid-template-columns: 1fr; gap: 2rem; } }
    </style>
</head>
<body>

    <div class="simple-header">
        <a href="index.html" class="logo">PAGUS</a>
    </div>

    <div class="detail-container" id="contentArea">
        <p>Yükleniyor...</p>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const id = params.get('id');

        fetch('/_data/products.json')
            .then(res => res.json())
            .then(data => {
                const product = data.items[id];
                if(!product) {
                    document.body.innerHTML = "<h1>Ürün bulunamadı</h1><a href='index.html'>Anasayfaya Dön</a>";
                    return;
                }

                // Resim listesini hazırla (Ana resim + 4 detay)
                // Boş olmayan resimleri bir diziye atalım
                let images = [product.thumbnail, product.img1, product.img2, product.img3, product.img4].filter(Boolean);

                // HTML'i Doldur
                const container = document.getElementById('contentArea');
                container.innerHTML = `
                    <div class="gallery">
                        <img src="${images[0]}" class="main-img" id="mainImage">
                        <div class="thumbnails">
                            ${images.map((img, i) => `
                                <img src="${img}" class="thumb ${i===0?'active':''}" onclick="changeImage('${img}', this)">
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="info-col">
                        <span class="cat-tag">${product.category}</span>
                        <h1 class="product-title">${product.title}</h1>
                        <span class="price">${product.price || ''}</span>
                        <div class="desc">${product.description}</div>
                        
                        <a href="https://wa.me/905511748907?text=Merhaba, şu ürün hakkında bilgi almak istiyorum: ${product.title}" target="_blank" class="btn-whatsapp">
                            WHATSAPP İLE SİPARİŞ
                        </a>
                    </div>
                `;
            });

        // Küçük resme tıklayınca büyütme fonksiyonu
        function changeImage(src, element) {
            document.getElementById('mainImage').src = src;
            document.querySelectorAll('.thumb').forEach(t => t.classList.remove('active'));
            element.classList.add('active');
        }
    </script>
</body>
</html>
