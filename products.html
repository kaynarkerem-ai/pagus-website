<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collection | Pagus Men's Wear</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        /* --- TASARIM: SENİN SEVDİĞİN IMAX SİNEMA MODU --- */
        :root { --color-black: #1a1a1a; --color-dark: #2d2d2d; --color-gray: #666666; --color-light-gray: #f5f5f5; --color-border: #e0e0e0; --color-white: #ffffff; --color-accent: #8b7355; --color-gold: #c9a962; --color-noble: #2c3e50; --font-display: 'Playfair Display', serif; --font-body: 'Montserrat', sans-serif; --transition: all 0.3s ease; --site-max-width: 1600px; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: var(--font-body); color: var(--color-black); line-height: 1.6; background: var(--color-white); }
        a { text-decoration: none; color: inherit; transition: var(--transition); }
        
        .header { position: sticky; top: 0; width: 100%; z-index: 1000; background: var(--color-noble); box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .header-main { display: flex; justify-content: space-between; align-items: center; padding: 0 3rem; max-width: var(--site-max-width); margin: 0 auto; height: 70px; }
        .header-logo { font-family: var(--font-display); font-size: 1.5rem; color: var(--color-white); font-weight: 700; letter-spacing: 2px; text-transform: uppercase; }
        .nav-list { display: flex; gap: 1.5rem; list-style: none; margin: 0; padding: 0; }
        .nav-list > li > a { display: block; font-size: 0.7rem; font-weight: 600; letter-spacing: 1px; text-transform: uppercase; color: rgba(255,255,255,0.8); white-space: nowrap; }
        .nav-list > li > a:hover { color: var(--color-gold); }
        
        .page-header { background-color: var(--color-light-gray); padding: 4rem 2rem; text-align: center; border-bottom: 1px solid var(--color-border); }
        .category-title { font-family: var(--font-display); font-size: 3rem; color: var(--color-noble); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 0.5rem; }
        .products-section { padding: 4rem 3rem; max-width: var(--site-max-width); margin: 0 auto; min-height: 50vh; }
        
        /* 3 SÜTUNLU DEV IZGARA */
        .product-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 3rem; }
        .product-card { cursor: pointer; transition: var(--transition); }
        .product-card:hover { transform: translateY(-5px); }
        .product-image-box { position: relative; width: 100%; aspect-ratio: 3 / 4; background-color: #f0f0f0; overflow: hidden; margin-bottom: 1rem; }
        .product-image { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease; }
        .product-card:hover .product-image { transform: scale(1.05); }
        .badge { position: absolute; top: 10px; left: 10px; background: var(--color-noble); color: #fff; font-size: 0.7rem; padding: 5px 10px; text-transform: uppercase; letter-spacing: 1px; }
        .product-info { text-align: center; }
        .product-sku { font-size: 0.8rem; color: var(--color-gray); letter-spacing: 1px; margin-bottom: 0.3rem; display: block; }
        .product-title { font-family: var(--font-display); font-size: 1.3rem; color: var(--color-dark); margin-bottom: 0.5rem; font-weight: 600; }
        .btn-view { font-size: 0.8rem; text-transform: uppercase; color: var(--color-noble); font-weight: 600; border-bottom: 1px solid var(--color-gold); }

        /* MODAL */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.95); overflow: hidden; backdrop-filter: blur(8px); }
        .modal-content { margin: 2vh auto; width: 95%; max-width: 1800px; display: grid; grid-template-columns: 3fr 1fr; gap: 0; background: #fff; border-radius: 4px; overflow: hidden; height: 96vh; }
        .modal-gallery { background: #000; display: flex; align-items: center; justify-content: center; position: relative; height: 100%; }
        .modal-main-img { width: 100%; height: 100%; object-fit: contain; }
        .modal-thumbnails { position: absolute; bottom: 20px; left: 0; width: 100%; display: flex; justify-content: center; gap: 10px; padding: 10px; background: rgba(0,0,0,0.6); overflow-x: auto; }
        .thumb { width: 60px; height: 80px; object-fit: cover; cursor: pointer; border: 2px solid transparent; opacity: 0.7; }
        .thumb.active { border-color: var(--color-gold); opacity: 1; }
        .modal-details { padding: 3rem; overflow-y: auto; display: flex; flex-direction: column; justify-content: center; background: #fff; }
        .modal-close { position: absolute; top: 20px; right: 30px; color: #fff; font-size: 40px; font-weight: bold; cursor: pointer; z-index: 2001; }
        .gallery-arrow { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.1); color: white; border: none; padding: 1.5rem; cursor: pointer; font-size: 2rem; transition: 0.3s; }
        .prev { left: 0; } .next { right: 0; }
        
        .footer { background: var(--color-black); color: #999; padding: 4rem 3rem 2rem; margin-top: 4rem;}
        .footer-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 3rem; max-width: var(--site-max-width); margin: 0 auto; border-bottom: 1px solid #333; padding-bottom: 3rem; }
        .footer h4 { color: var(--color-white); margin-bottom: 1.5rem; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 2px; }
        .footer-col ul { list-style: none; }
        .footer-col li { margin-bottom: 0.75rem; }
        
        @media (max-width: 992px) { 
            .product-grid { grid-template-columns: repeat(2, 1fr); } 
            .header-main { padding: 0 1.5rem; } 
            .nav-list { display: none; } 
            .modal-content { grid-template-columns: 1fr; height: 100vh; margin: 0; width: 100%; border-radius: 0; } 
        }
    </style>
</head>
<body>

    <header class="header">
        <div class="header-main">
            <a href="index.html" class="header-logo">PAGUS</a>
            <nav class="main-nav">
                <ul class="nav-list">
                    <li><a href="?category=Wedding Suits">Wedding Suits</a></li>
                    <li><a href="?category=Tuxedos">Tuxedos</a></li>
                    <li><a href="?category=Formal Suits">Formal Suits</a></li>
                    <li><a href="?category=Two Pieces">Two Pieces</a></li>
                    <li><a href="?category=Shirts">Shirts</a></li>
                    <li><a href="?category=Jackets">Jackets</a></li>
                    <li><a href="?category=Shoes">Shoes</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="page-header">
        <div class="breadcrumb">Collection / <span id="bread-cat">All</span></div>
        <h1 class="category-title"><span id="page-title">...</span> <span style="font-size:1rem; color:red; vertical-align:middle;">(V3.0)</span></h1>
    </section>

    <section class="products-section">
        <div class="product-grid" id="product-container"></div>
    </section>

    <div id="productModal" class="modal">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <div class="modal-content">
            <div class="modal-gallery">
                <button class="gallery-arrow prev" onclick="changeSlide(-1)">&#10094;</button>
                <img id="modalMainImg" class="modal-main-img" src="" alt="Detail">
                <button class="gallery-arrow next" onclick="changeSlide(1)">&#10095;</button>
                <div class="modal-thumbnails" id="modalThumbnails"></div>
            </div>
            <div class="modal-details">
                <span class="badge" style="position:static; display:inline-block; margin-bottom:1rem; width:fit-content;">Premium Collection</span>
                <h2 id="modalTitle" style="font-family: var(--font-display); font-size: 2.5rem; margin-bottom: 0.5rem; line-height:1.2;">Product Title</h2>
                <p id="modalSku" style="color:var(--color-gold); font-weight:600; margin-bottom: 2rem; letter-spacing: 1px; font-size: 1.1rem;">CODE: PGS-001</p>
                <p style="margin-bottom: 2rem; color: #555;">Available for wholesale orders.</p>
                <a id="modalWhatsapp" href="#" target="_blank" class="btn-quote" style="background:var(--color-gold); color:white; padding:1.2rem 2rem; text-decoration:none; border-radius:4px; text-align:center;">ASK PRICE VIA WHATSAPP</a>
            </div>
        </div>
    </div>

    <footer class="footer" id="contact">
        <div class="footer-grid">
            <div class="footer-brand" id="about">
                <h4>PAGUS MEN'S WEAR</h4>
                <p>100% Export Oriented Manufacturer.</p>
            </div>
            <div class="footer-col">
                <h4>B2B CONTACT</h4>
                <ul>
                    <li><a href="mailto:info@pagusmenswear.com">info@pagusmenswear.com</a></li>
                    <li><a href="https://wa.me/905511748907" target="_blank">+90 551 174 8907</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script>
        // =========================================================
        // MÜDÜRÜN DEPO LİSTESİ (HATASIZ)
        // =========================================================
        const productsDB = [
            // SENİN YÜKLEDİĞİN DOSYALARI EKLEDİM:
            // Dosya adı: formalsuit-1023D170 -> Kategori: Formal Suits
            { code: "formalsuit-1023D170", cat: "Formal Suits" },
            
            // Eğer "50200-41" bir Damatlıksa burayı aç:
            // { code: "50200-41", cat: "Wedding Suits" },

            // Yeni yüklediğin Ceket Pantolon varsa:
            // { code: "yeni-kod", cat: "Two Pieces" },
        ];
        // =========================================================

        const urlParams = new URLSearchParams(window.location.search);
        let linkCat = urlParams.get('category'); 
        if (!linkCat) linkCat = "Formal Suits"; 
        let currentCat = decodeURIComponent(linkCat);

        document.getElementById('page-title').innerText = currentCat;
        document.getElementById('bread-cat').innerText = currentCat;

        const productContainer = document.getElementById('product-container');
        
        // --- LAZER KESİM FİLTRE (EŞİTTİR === KULLANDIM) ---
        // Artık "Suit" yazıyor diye hepsini getirmez. Birebir aynı olmak zorunda.
        const filteredProducts = productsDB.filter(p => p.cat === currentCat);

        if (filteredProducts.length === 0) {
            productContainer.innerHTML = `
                <div style="grid-column: 1/-1; text-align:center; padding: 5rem 1rem;">
                    <h3 style="color:#ccc; font-size:2rem; margin-bottom:1rem;">No Products Found</h3>
                    <p style="color:#999;">
                        We haven't added any items to <strong>${currentCat}</strong> yet. <br>
                        (Müdür, bu kategorinin listesi boş, productsDB listene ürün ekle!)
                    </p>
                </div>`;
        }

        filteredProducts.forEach((product) => {
            let coverImg = `images/${product.code} (1).jpg`;

            let cardHTML = `
                <div class="product-card" onclick="openModal('${product.code}', '${currentCat}')">
                    <div class="product-image-box">
                        <span class="badge">New</span>
                        <img src="${coverImg}" 
                             alt="${product.code}" 
                             class="product-image"
                             loading="lazy"
                             onerror="this.parentElement.parentElement.style.display='none'"> 
                    </div>
                    <div class="product-info">
                        <span class="product-sku">${product.code}</span>
                        <h3 class="product-title">${currentCat}</h3>
                        <span class="btn-view">View Photos</span>
                    </div>
                </div>
            `;
            productContainer.innerHTML += cardHTML;
        });

        // MODAL FONKSİYONLARI (AYNI)
        const modal = document.getElementById('productModal');
        const modalImg = document.getElementById('modalMainImg');
        const modalThumbs = document.getElementById('modalThumbnails');
        let activeCode = "";
        let activeImgIndex = 1;

        function openModal(code, category) {
            activeCode = code;
            activeImgIndex = 1;
            document.getElementById('modalTitle').innerText = category;
            document.getElementById('modalSku').innerText = "CODE: " + code;
            document.getElementById('modalWhatsapp').href = `https://wa.me/905511748907?text=Hi, inquiring about: ${code}`;
            updateMainImage();
            modalThumbs.innerHTML = '';
            for(let j=1; j<=10; j++) {
                let thumbSrc = `images/${code} (${j}).jpg`;
                let imgCheck = new Image();
                imgCheck.onload = function() { modalThumbs.innerHTML += `<img src="${thumbSrc}" class="thumb" onclick="setMainImage(${j})">`; };
                imgCheck.src = thumbSrc;
            }
            modal.style.display = "block";
        }
        function closeModal() { modal.style.display = "none"; }
        function updateMainImage() { modalImg.src = `images/${activeCode} (${activeImgIndex}).jpg`; }
        function setMainImage(idx) { activeImgIndex = idx; updateMainImage(); }
        function changeSlide(dir) {
            let nextIndex = activeImgIndex + dir;
            if(nextIndex < 1) nextIndex = 1;
            let tempImg = new Image();
            tempImg.src = `images/${activeCode} (${nextIndex}).jpg`;
            tempImg.onload = function() { activeImgIndex = nextIndex; updateMainImage(); };
        }
        window.onclick = function(event) { if (event.target == modal) closeModal(); }
    </script>
</body>
</html>
